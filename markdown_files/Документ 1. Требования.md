## Документ 1: Требования

**1. Функциональные требования (ФТ):**

*   **ФТ 1: Система унифицированного кодирования и управления информацией о продукции (Артикул/Спецификация):**
    *   **ФТ 1.1: Создание и ведение "интеллектуального" артикула/спецификации:**
        *   Система должна позволять создавать, редактировать и хранить уникальную спецификацию для каждого типа производимой бочки.
        *   Каждая спецификация должна однозначно определять и хранить следующие производственно-значимые параметры (на основе данных от Лины, Файл 1, 00:16:11; Файл 2, 00:04:18, и др.):
            *   **Идентификатор продукции:** Уникальный код спецификации.
            *   **Толщины металла:**
                *   Толщина металла для дна.
                *   Толщина металла для обечайки.
                *   Толщина металла для крышки.
            *   **Параметры окраски:** 
                *   Цвет (RAL) внутренней поверхности бочки.
                *   Цвет (RAL) наружной поверхности обечайки.
                *   Цвет (RAL) крышки.
                *   Цвет (RAL) дна.
                *   Необходимость и тип грунтовки (если применимо и влияет на процесс).
            *   **Логотипы:**
                *   Тип логотипа (например, шелкография, наклейка, конкретный штамп).
                *   Расположение логотипа(ов) на бочке.
                *   Цвет(а) логотипа.
            *   **Тип упаковки готовой продукции:** (например, паллеты, стрейч-пленка, количество в упаковке).
            *   **Прочие специфические характеристики:**
                *   Цвет пломбы/пробки (если это влияет на выбор компонента или процесс сборки).
                *   Наличие и тип внутренних покрытий (если отличаются от стандартной краски).
                *   Конструктивные особенности (например, тип горловин, ребер жесткости, если они вариативны и влияют на производство).
    *   **ФТ 1.2: Управление справочниками параметров:**
        *   Система должна содержать и позволять управлять централизованными справочниками для всех используемых параметров:
            *   Справочник толщин металла.
            *   Справочник цветов RAL.
            *   Справочник типов логотипов и их характеристик.
            *   Справочник типов упаковки.
            *   Справочник возможных комбинаций цветов для различных частей бочки (если это необходимо для упрощения выбора, вместо отдельных полей для каждой части).
            *   Справочник поставщиков металла (с возможностью указания предпочтительного поставщика для определенных типов металла или заказов, если это будет решено реализовывать, несмотря на текущие сложности с отслеживанием в 1С для полуфабрикатов).
*   **ФТ 2: Автоматизированное формирование производственного плана/очереди:**
    *   **ФТ 2.1: Генерация оптимальной последовательности производства:**
        *   На основе входящих заказов (с указанием требуемой продукции через унифицированную спецификацию/артикул и количества) и доступных производственных ресурсов, система должна автоматически формировать оптимальную или близкую к оптимальной последовательность (очередь) производства партий бочек. (Встреча Лины с разработчиками.txt, 00:17:06 - 00:18:12)
    *   **ФТ 2.2: Критерии оптимизации плана:**
        *   Минимизация общего времени и совокупных затрат на переналадку оборудования при смене типов продукции, включая:
            *   Смену толщины металла на линиях разматывания и прессах.
            *   Смену цветов краски на покрасочных стендах (учет сложности перехода, например, со светлого на темный и наоборот, необходимость промывки). (Встреча Лины с разработчиками.txt, 00:13:09 - 00:14:28)
            *   Смену оснастки/трафаретов для нанесения логотипов.
        *   Максимальное использование (загрузка) производственных линий и ключевого оборудования.
        *   Соблюдение плановых сроков выполнения клиентских заказов.
        *   Минимизация расхода материалов (например, краски при переходах).
        *   Группировка заказов со схожими параметрами (например, одинаковый цвет, толщина) для уменьшения числа переналадок.
    *   **ФТ 2.3: Учет технологических ограничений и правил:**
        *   Система должна учитывать заранее заданные технологические ограничения и правила последовательности операций (например, определенное время на остывание/сушку, правила перехода между цветами).
        *   Учет минимального и максимального размера партии для эффективного производства.
*   **ФТ 3: Интерактивный интерфейс планировщика:**
    *   **ФТ 3.1: Визуализация предложенного плана:**
        *   Предоставление пользователю (планировщику) наглядного графического (например, диаграмма Ганта, табличное представление) или текстового представления сгенерированного производственного плана.
    *   **ФТ 3.2: Отображение ключевых показателей эффективности (KPI) плана:**
        *   Расчет и отображение для предложенного плана таких KPI, как:
            *   Общее плановое время выполнения всех заказов в очереди.
            *   Количество и суммарная длительность простоев оборудования из-за переналадок.
            *   Оценочный расход краски на промывку/переходы.
            *   Процент заказов, выполняемых в срок.
            *   Загрузка производственных мощностей (по линиям/оборудованию). (Встреча Лины с разработчиками.txt, 00:18:12 - 00:20:02)
    *   **ФТ 3.3: Возможность ручной корректировки плана:**
        *   Предоставление планировщику инструментов для внесения ручных корректировок в предложенный системой план (например, изменение последовательности производственных партий, перенос заказа).
    *   **ФТ 3.4: Система поддержки принятия решений (СППР) при корректировке:**
        *   При внесении пользователем изменений в план, система должна в реальном времени или по запросу пересчитывать и отображать, как эти изменения повлияют на KPI плана (например, "подсвечивать красные зоны" или показывать изменение показателей). (Встреча Лины с разработчиками.txt, 00:19:18 - 00:20:02)
*   **ФТ 4: Учет производственных ресурсов, ограничений и нормативов:**
    *   **ФТ 4.1: Модель производственного оборудования:**
        *   Система должна хранить информацию о доступном производственном оборудовании и его характеристиках: линии разматывания, прессы (с указанием типов штампов, если это влияет на планирование), сварочные установки, сборочные линии, покрасочные стенды (с указанием количества пистолетов, возможности одновременной покраски разными цветами, если есть), печи сушки. (Технологический процесс Драмтары из презентации заказчика)
        *   Учет производительности оборудования для различных операций.
    *   **ФТ 4.2: Учет времени на технологические переходы (переналадки):**
        *   Система должна хранить и использовать нормативы времени на выполнение различных переналадок:
            *   Смена рулона металла другой толщины.
            *   Смена краски (включая время на промывку оборудования).
            *   Смена/установка/снятие оснастки для логотипов.
            *   Прочие значимые переналадки. (Встреча Лины с разработчиками.txt, 00:11:43 - 00:12:20)
    *   **ФТ 4.3: Учет остатков сырья и материалов:**
        *   Обеспечение возможности оперативного учета (или интеграции для получения данных) наличия сырья и материалов на складе:
            *   Металл (по толщинам, возможно, по поставщикам, если это критично и реализуемо).
            *   Краска (по цветам RAL).
            *   Компоненты для логотипов.
            *   Упаковочные материалы. (Наша встреча с Линой и их специалистом.txt, 00:45:33 - 00:46:00, 00:46:29 - 00:46:55)
*   **ФТ 5: Формирование и передача производственных заданий:**
    *   **ФТ 5.1: Генерация производственных заданий:**
        *   На основе утвержденного производственного плана система должна генерировать детализированные производственные задания для каждого производственного участка или рабочей группы.
        *   Задания должны содержать всю необходимую информацию для выполнения работы в понятном для исполнителей виде (например, параметры бочки "по-русски", количество, особые указания). (Встреча Лины с разработчиками.txt, 00:28:48 - 00:29:20)
    *   **ФТ 5.2: Отображение заданий на производственных участках (целевая функция):**
        *   В перспективе – возможность отображения производственных заданий в электронном виде на мониторах, планшетах или специализированных терминалах на производственных участках. (Наша встреча с Линой и их специалистом.txt, 00:25:48 - 00:26:08) На начальном этапе – генерация заданий в формате, удобном для печати.
*   **ФТ 6: Централизованная База Знаний (Справочники, Правила, Нормативы):**
    *   **ФТ 6.1: Хранение нормативно-справочной информации:**
        *   Создание и поддержка централизованного хранилища (базы данных) для всей информации, необходимой для планирования и производства:
            *   Полные спецификации продукции (декомпозиция "интеллектуального" артикула).
            *   Описание технологических процессов и последовательности операций.
            *   Характеристики и ограничения производственного оборудования.
            *   Нормативы времени на выполнение производственных операций.
            *   Нормативы времени на выполнение переналадок.
            *   Формализованные правила и эвристики для оптимизации планирования (например, предпочтительная последовательность смены цветов, правила группировки заказов). (Встреча Лины с разработчиками.txt, 00:31:26 - 00:31:52)
*   **ФТ 7: Отчетность и аналитика производственной деятельности:**
    *   **ФТ 7.1: Формирование оперативных и аналитических отчетов:**
        *   Генерация отчетов по выполнению производственного плана (план/факт анализ по объемам, срокам).
        *   Анализ эффективности использования производственного оборудования (коэффициент загрузки, простои).
        *   Отчеты по затраченному времени и материалам на переналадки.
        *   Статистика по произведенной продукции (в разрезе артикулов, типов, цветов и т.д.).
        *   Анализ узких мест в производственном процессе. (Встреча Лины с разработчиками.txt, 00:25:39 - 00:26:26)
*   **ФТ 8: Интеграция с существующими системами:**
    *   **ФТ 8.1: Интеграция с системой 1С:**
        *   Обеспечение возможности получения данных о клиентских заказах (номенклатура, количество, желаемые сроки) из существующей системы 1С.
        *   Обеспечение возможности (в перспективе) передачи данных о сформированном производственном плане и/или фактическом выполнении заказов обратно в систему 1С для целей учета, статистики и финансового анализа.
        *   Обеспечение возможности получения актуальных данных об остатках сырья и материалов со склада из системы 1С (если такой учет там ведется и доступен для интеграции).
    *   **ФТ 8.2: Импорт данных из Google-таблиц/Excel:**
        *   На начальном этапе или для специфических нужд – возможность импорта данных (например, заказов, справочников) из файлов формата Google Sheets или Excel, используемых в текущих процессах (например, файл отгрузки).

**2. Технические требования (ТТ):**

*   **ТТ 1: Платформа и архитектура:**
    *   **ТТ 1.1: Тип приложения:** Веб-приложение, доступное через стандартные веб-браузеры.
    *   **ТТ 1.2: Архитектура:** Клиент-серверная архитектура. Рассмотреть возможность использования микросервисной архитектуры для отдельных модулей (например, модуль расчета плана) для гибкости и масштабируемости.
    *   **ТТ 1.3: Стек технологий:** Будет определен командой разработки с учетом их экспертизы и требований проекта (например, Python/Java/Node.js для бэкенда, React/Angular/Vue для фронтенда).
*   **ТТ 2: База данных (БД):**
    *   **ТТ 2.1: Тип СУБД:** Использование современной реляционной (например, PostgreSQL, MySQL) или NoSQL (например, MongoDB, если структура данных предполагает гибкость) СУБД. Выбор должен учитывать необходимость хранения структурированных данных о продукции, заказах, планах, ресурсах, правилах, а также обеспечивать достаточную производительность для запросов и расчетов.
    *   **ТТ 2.2: Структура БД:** Проектирование нормализованной и эффективной схемы БД для хранения всей необходимой информации.
*   **ТТ 3: Пользовательский интерфейс (UI) и Пользовательский опыт (UX):**
    *   **ТТ 3.1: Интуитивность и удобство:** Разработка интуитивно понятного, эргономичного и удобного пользовательского интерфейса, ориентированного на задачи планировщика.
    *   **ТТ 3.2: Визуализация данных:** Эффективное использование графических элементов (графики, диаграммы, цветовое кодирование) для наглядного представления планов, KPI и другой информации.
    *   **ТТ 3.3: Адаптивность (желательно):** Рассмотреть возможность адаптивного дизайна для корректного отображения на экранах различных разрешений (в первую очередь, десктопные мониторы).
*   **ТТ 4: Алгоритмическое ядро (Модуль планирования):**
    *   **ТТ 4.1: Реализация логики оптимизации:** Разработка и реализация эффективных алгоритмов для построения оптимального производственного плана с учетом всех заданных критериев, ограничений и правил.
    *   **ТТ 4.2: Конфигурируемость:** Возможность настройки параметров алгоритма планирования (например, весовых коэффициентов для различных критериев оптимизации) через конфигурационные файлы или интерфейс администратора.
*   **ТТ 5: Модульность и расширяемость:**
    *   **ТТ 5.1: Модульная структура:** Проектирование системы с четко выделенными модулями (например, модуль управления НСИ, модуль приема заказов, модуль планирования, модуль отчетности) для упрощения разработки, тестирования и дальнейшего развития.
    *   **ТТ 5.2: API для интеграций:** Разработка документированного API (Application Programming Interface) для обеспечения возможности интеграции с другими внутренними или внешними системами в будущем.
*   **ТТ 6: Импорт/Экспорт данных:**
    *   **ТТ 6.1: Поддерживаемые форматы:** Поддержка импорта данных из распространенных форматов (CSV, Excel).
    *   **ТТ 6.2: Механизмы интеграции с 1С:** Разработка или использование коннекторов/шлюзов для обмена данными с системой 1С (через файловый обмен, веб-сервисы, прямое подключение к БД, если это безопасно и разрешено).
*   **ТТ 7: Безопасность:**
    *   **ТТ 7.1: Аутентификация и авторизация:** Реализация системы аутентификации пользователей и разграничения прав доступа к различным функциям и данным системы на основе ролей.
    *   **ТТ 7.2: Защита данных:** Обеспечение защиты от распространенных веб-уязвимостей (например, OWASP Top 10). Шифрование чувствительных данных при передаче и хранении (если применимо).
    *   **ТТ 7.3: Резервное копирование:** Наличие процедур регулярного резервного копирования данных системы.
*   **ТТ 8: Производительность и Масштабируемость:**
    *   **ТТ 8.1: Время отклика:** Система должна обеспечивать приемлемое время отклика на действия пользователя, особенно при работе с интерактивным планом и генерации отчетов. (Конкретные метрики будут определены дополнительно).
    *   **ТТ 8.2: Обработка данных:** Способность обрабатывать ожидаемый объем данных (количество заказов, номенклатурных позиций, производственных операций) без существенной деградации производительности.
    *   **ТТ 8.3: Масштабируемость:** Архитектура должна позволять горизонтальное или вертикальное масштабирование системы при росте нагрузки или объемов данных.
*   **ТТ 9: Разработка, тестирование и развертывание:**
    *   **ТТ 9.1: Система контроля версий:** Использование системы контроля версий (например, Git) для управления исходным кодом.
    *   **ТТ 9.2: Среды разработки:** Наличие отдельных сред для разработки, тестирования (staging) и продуктивной эксплуатации.
    *   **ТТ 9.3: Автоматизированное тестирование (желательно):** Внедрение практик автоматизированного тестирования (unit-тесты, интеграционные тесты) для обеспечения качества кода.
    *   **ТТ 9.4: CI/CD (непрерывная интеграция и доставка - желательно):** Рассмотреть возможность настройки CI/CD пайплайнов для автоматизации процессов сборки, тестирования и развертывания.
*   **ТТ 10: Документация:**
    *   **ТТ 10.1: Пользовательская документация:** Подготовка руководств для пользователей системы (планировщиков, администраторов).
    *   **ТТ 10.2: Техническая документация:** Создание документации, описывающей архитектуру системы, структуру БД, API, ключевые алгоритмы.